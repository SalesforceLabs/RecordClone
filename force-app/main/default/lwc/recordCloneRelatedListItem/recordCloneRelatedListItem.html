<template>
  <!-- 
  Copyright (c) 2020, salesforce.com, inc.
  All rights reserved.
  SPDX-License-Identifier: BSD-3-Clause
  For full license text, see LICENSE.txt file in the repo root or https://opensource.org/licenses/BSD-3-Clause 
-->
  <template if:true={hasElements}>
    <li class="details-item">
      <h4 onclick={toggle} class="details-item-title">
        <lightning-icon
          class="toggle-icon"
          icon-name={iconName}
          size="x-small"
        ></lightning-icon>
        {title}
        <template if:true={isError}>
          <br />
          <span class="child-rel-error"> {errorMessage} </span>
        </template>
      </h4>
      <template if:true={shouldShow}>
        <ul class="details-item-elements">
          <template for:each={okItems} for:item="ok">
            <li key={ok.apiName}>
              {ok.label} (<span class="apiname">{ok.apiName}</span>)
            </li>
          </template>
          <template for:each={ngItems} for:item="ng">
            <li key={ng.apiName}>
              <del>{ng.label} (<span class="apiname">{ng.apiName}</span>)</del>
              :
              <span class="ncf-reason">{ng.errorMessage}</span>
            </li>
          </template>
        </ul>
      </template>
    </li>
  </template>
</template>
